var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b};$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};
$jscomp.getConstructImplementation=function(){function a(){function c(){}new c;Reflect.construct(c,[],function(){});return new c instanceof c}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(a())return Reflect.construct;var b=Reflect.construct;return function(c,d,e){c=b(c,d);e&&Reflect.setPrototypeOf(c,e.prototype);return c}}return function(c,d,e){void 0===e&&(e=c);e=$jscomp.objectCreate(e.prototype||Object.prototype);return Function.prototype.apply.call(c,e,d)||
e}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(a,b)}else for(c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.superClass_=b.prototype};
var app=null,AutoHomeApp=function(){var a=this;this.ajax=function(){var d=new XMLHttpRequest;d.onreadystatechange=function(){4==this.readyState&&200==this.status&&console.log("this.responseText: ",this.responseText)};d.open("GET","a.php",!0);d.send()};this.renderPage=function(){var d=a.router.getRoute();console.log("route: ",d);var e=d.page;URLManager.setURL(d.path,"login",!0);switch(e){case Pages.LOGIN:a.pageCreator.createLogin(void 0!=d.afterLoginPath?d.afterLoginPath:void 0);break;case Pages.UNKNOWN:throw new UnknownPageError;
}};this.initFirebase();this.registerAllComponents();this.pageCreator=new PageCreator;URLManager.registerURLChangeListener(this.renderPage);this.router=new AutoHomeRouter;this.pageManager=PageManager.getInstance();var b=new BlankPage({title:"login",backgroundColor:"#f5f5f5"}),c=new BlankPage({title:"dashboard",backgroundColor:"#cecece"});this.pageManager.addPage(b);this.pageManager.addPage(c);this.pageManager.connect();setTimeout(function(){a.pageManager.setActive(1,Effects.SWIPE_TO_LEFT);setTimeout(function(){a.pageManager.setActive(0,
Effects.SWIPE_TO_LEFT)},2E3)},1E3);this.renderPage();document.onclick=function(){}};AutoHomeApp.prototype.registerAllComponents=function(){void 0==customElements.get("login-form")&&(customElements.define("error-dialog",ErrorDialog),customElements.define("login-form",LoginComponent),customElements.define("base-layout",BaseLayout),customElements.define("page-manager",PageManagerComponent),customElements.define("blank-page",BlankPage),customElements.define("header-component",HeaderComponent))};
AutoHomeApp.prototype.initFirebase=function(){firebase.initializeApp({apiKey:"AIzaSyCCtm2Zf7Hb6SjKRxwgwVZM5RfD64tODls",authDomain:"home-automation-80eec.firebaseapp.com",databaseURL:"https://home-automation-80eec.firebaseio.com",projectId:"home-automation-80eec",storageBucket:"home-automation-80eec.appspot.com",messagingSenderId:"970359498290",appId:"1:970359498290:web:a43e83568b9db8eb783e2b",measurementId:"G-YTRZ79TCJJ"})};window.addEventListener("load",function(){app=new AutoHomeApp});
var Component=function(a){try{var b=HTMLElement.call(this)||this;b.firebase=firebase}catch(d){console.log(d.message);var c=d.stack.toString().substring(0,d.stack.toString().length).split("at new ").slice(1);c.forEach(function(e,f,g){c[f]=e.substring(0,e.indexOf(" "))});console.log(c);new CustomComponentNotDefinedError(c);b=HTMLElement.call(this)||this}return b};$jscomp.inherits(Component,HTMLElement);
$jscomp.global.Object.defineProperties(Component,{observedAttributes:{configurable:!0,enumerable:!0,get:function(){Config.showObservedAttrNotDefined&&console.warn("observedAttributes not defined for class: "+this.name+"!\nWill use empty array ([])\nSee class PageCompnent for inspiration.");return[]}}});var AbstractComponent=function(a){var b=Component.call(this,a)||this;b.componentProps=a;b.initialize(a);return b};$jscomp.inherits(AbstractComponent,Component);
AbstractComponent.prototype.initialize=function(a){for(var b in a)void 0!=this.style[b]&&(this.style[b]=a[b]);this.style.display||(this.style.display="block")};AbstractComponent.prototype.addListeners=function(){new MethodNotImplementedError("addListeners",this,!0)};AbstractComponent.prototype.connectedCallback=function(){Config.showConnectedCallbackNotImplemented&&new MethodNotImplementedError("connectedCallback",this,!0)};
AbstractComponent.prototype.disconnectedCallback=function(){new MethodNotImplementedError("disconnectedCallback",this,!0)};AbstractComponent.prototype.attributeChangedCallback=function(a,b,c){new MethodNotImplementedError("attributeChangedCallback",this,!0)};AbstractComponent.prototype.disconnectComponent=function(){this.parent.removeChild(this)};
AbstractComponent.prototype.connectComponent=function(a,b){b=void 0===b?!1:b;if(this.parent="string"==typeof a?document.getElementById(a):a)b&&(this.parent.innerHTML=""),this.parent.appendChild(this),this.addListeners()};var BaseDialog=function(a){return AbstractComponent.call(this,a)||this};$jscomp.inherits(BaseDialog,AbstractComponent);
var ErrorDialog=function(a,b){var c=BaseDialog.call(this,b)||this;c.innerHTML="\n            "+a+'\n            <div class="close-btn">\n                <div class="btn btn-danger">\n                    close\n                </div>\n            </div>\n        ';document.body.appendChild(c);c.getElementsByClassName("close-btn")[0].addEventListener("click",function(){c.remove()});return c};$jscomp.inherits(ErrorDialog,BaseDialog);
var ExampleComponent=function(a){return AbstractComponent.call(this,a)||this};$jscomp.inherits(ExampleComponent,AbstractComponent);
var LoginComponent=function(a){var b=AbstractComponent.call(this,a)||this;b.addListeners=function(){var c=document.getElementById("login-form"),d=document.getElementById("login"),e=document.getElementById("password");c.addEventListener("submit",b.login);d.addEventListener("input",b.inputChange);e.addEventListener("input",b.inputChange)};b.login=function(c){c.preventDefault();var d=document.getElementById("login").value,e=document.getElementById("password").value;d&&b.firebase.auth().signInWithEmailAndPassword(d,
e).then(function(f){console.log("user: ",f);localStorage.setItem("logged","true");localStorage.setItem("remember","true");localStorage.setItem("login",d);localStorage.setItem("password",e);document.getElementById("login-form").submit()}).catch(function(f){f=f.code;var g=document.getElementById("form-alert-wrapper"),h=document.getElementById("form-alert");g.style.display="flex";h.innerText="Nespr\u00e1vn\u00e9 p\u0159ihla\u0161ovac\u00ed \u00fadaje (chyba "+f+")"})};return b};
$jscomp.inherits(LoginComponent,AbstractComponent);LoginComponent.prototype.initialize=function(a){AbstractComponent.prototype.initialize.call(this,a);this.innerHTML='\n        <div id="form-alert-wrapper">\n            <div id="form-alert" class="alert alert-danger" role="alert">\n            Nespr\u00e1vn\u00e9 p\u0159ihla\u0161ovac\u00ed \u00fadaje!\n            </div>\n        </div>\n        <div id="form-wrapper">\n            <form id="login-form" action="/dashboard" method="POST">\n                <div class="form-label">\n                    <label class="form-name-label" for="login-form">P\u0159ihl\u00e1\u0161en\u00ed</label>\n                </div>\n                <div class="form-label">\n                    <label for="login" class="active-label">Email</label>\n                    <input type="email" id="login" onfocusin=this.parentElement.children[0].classList.add(\'active-label\') onfocusout=this.parentElement.children[0].classList.remove(\'active-label\') required autocomplete />\n                </div>\n                <div class="form-label">\n                    <label for="password" class="active-label">Heslo</label>\n                    <input type="password" id="password" onfocusin=this.parentElement.children[0].classList.add(\'active-label\') onfocusout=this.parentElement.children[0].classList.remove(\'active-label\') required />\n                </div>\n                <div class="chekbox-wrapper">\n                    <input type="checkbox" id="remember" />\n                    <label for="remember">Zapamatovat \u00fa\u010det</label>\n                </div>\n                <input type="submit" id="submit-login" class="btn btn-primary" value="P\u0159ihl\u00e1sit"/>\n            </form>\n        </div>\n        '};
LoginComponent.prototype.redirectAfterLogin=function(a){document.getElementById("login-form").action=a};LoginComponent.prototype.inputChange=function(a){a=a.target;var b=a.parentElement.children[0];a.value.length?b.classList.add("permanent-active-label"):b.classList.remove("permanent-active-label")};var HeaderComponent=function(a){return Component.call(this,a)||this};$jscomp.inherits(HeaderComponent,Component);var BasePage=function(a){return AbstractComponent.call(this,a)||this};
$jscomp.inherits(BasePage,AbstractComponent);var BlankPage=function(a){var b=BasePage.call(this,a)||this;var c=b.style;c.position="absolute";c.width=Config.getWindowWidth()+"px";c.height=Config.getWindowHeight()+"px";b.innerHTML="<div style='display:flex;justify-content: center;'><h1>"+a.title+"</h1></div>";return b};$jscomp.inherits(BlankPage,BasePage);var Dashboard=function(a){return BasePage.call(this,a)||this};$jscomp.inherits(Dashboard,BasePage);
var BaseError=function(a,b,c){c=void 0===c?!0:c;this.showInDialog=!1;this.errMsg=b?"Error: '"+(void 0===a?"":a)+"'\nAt class: "+b.constructor.name:"Unknown Error";(this.showImmediately=c)&&this.show()};BaseError.prototype.show=function(){console.error(this.errMsg);if(this.showInDialog){var a=this.errMsg.replaceAll("\n","<br>");new ErrorDialog(a,{})}};
var CustomComponentNotDefinedError=function(a){BaseError.call(this,"",null,!1);this.showInDialog=!0;this.errMsg="Error: Component created by '"+a[a.indexOf("PageCreator")-1]+"' class not defined (not registered as custom HTML element).\nSee 'registerAllComponents()' method of main app class (probably class '"+a[a.length-1]+"').\nAt class: "+a[0];this.showImmediately=!0,this.show()};$jscomp.inherits(CustomComponentNotDefinedError,BaseError);
var ComponentNameNotDefinedError=function(){BaseError.call(this,"",null,!1);this.showInDialog=!1;this.errMsg="Component name or className not defined!";this.showImmediately=!0,this.show()};$jscomp.inherits(ComponentNameNotDefinedError,BaseError);var MethodNotImplementedError=function(a,b,c){a=void 0===a?"":a;BaseError.call(this,"",b,!1);this.showInDialog=!1;this.errMsg="Error: Method '"+b.constructor.name+"."+a+"()' not implemented\nAt class: "+b.constructor.name;(this.showImmediately=c)&&this.show()};
$jscomp.inherits(MethodNotImplementedError,BaseError);var PageNotExistInPageManagerError=function(a,b,c){BaseError.call(this,"",null,!1);this.showInDialog=!0;this.errMsg="Error: "+("number"==typeof a?"Page with index '"+a:"Any page, instance of '"+a.constructor.name)+"' doesn't exist in PageManager."+("number"==typeof a?" PageManager contains only "+b+" pages, so max index is "+(b-1)+".":"");(this.showImmediately=c)&&this.show()};$jscomp.inherits(PageNotExistInPageManagerError,BaseError);
var PageAlreadyAddedToPageManagerError=function(a,b){BaseError.call(this,"",null,!1);this.showInDialog=!0;this.errMsg="Error: Any page, instance of '"+a.constructor.name+"' already added to PageManager!";(this.showImmediately=b)&&this.show()};$jscomp.inherits(PageAlreadyAddedToPageManagerError,BaseError);var ExampleSystemError=function(a){a=Error.call(this,"Page "+a+" not defined!");this.message=a.message;"stack"in a&&(this.stack=a.stack);this.__proto__=Error;Object.setPrototypeOf(this,ExampleSystemError.prototype)};
$jscomp.inherits(ExampleSystemError,Error);var UnknownPageError=function(){var a=Error.call(this,"UNKNOWN page returned!");this.message=a.message;"stack"in a&&(this.stack=a.stack);this.__proto__=Error;Object.setPrototypeOf(this,UnknownPageError.prototype)};$jscomp.inherits(UnknownPageError,Error);var UndefinedPageError=function(a){a=Error.call(this,"Page "+a+" not defined!");this.message=a.message;"stack"in a&&(this.stack=a.stack);this.__proto__=Error;Object.setPrototypeOf(this,UndefinedPageError.prototype)};
$jscomp.inherits(UndefinedPageError,Error);var BaseLayout=function(a){return AbstractComponent.call(this,a)||this};$jscomp.inherits(BaseLayout,AbstractComponent);var Config=function(){};Config.evaluateCondition=function(a){return(a||Config.showAllErrorsAndWarnings)&&Config.showAnyErrorOrWarning};Config.getWindowWidth=function(a){var b=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return(void 0===a?0:a)?b+"px":b};
Config.getWindowHeight=function(a){var b=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return(void 0===a?0:a)?b+"px":b};Config.defaultTransitionTime=1E3;Config.showAllErrorsAndWarnings=!1;Config.showAnyErrorOrWarning=!0;Config.showObservedAttrNotDefined=Config.evaluateCondition(!1);Config.showMethodNotImplemented=Config.evaluateCondition(!0);Config.showConnectedCallbackNotImplemented=Config.evaluateCondition(Config.showMethodNotImplemented&&!1);
var PageCreator=function(){this.createDashboard=function(){};var a=new BaseLayout({height:"20px",width:"100px",resizable:!0,backgroundColor:"blue"});document.getElementById("main").appendChild(a);a=new BaseLayout({height:"200px",width:"50px",resizable:!0,backgroundColor:"red"});document.getElementById("main").appendChild(a)};PageCreator.prototype.createElement=function(a,b,c){if(a=document.getElementById(a))switch(a.innerHTML="",b){case PageElements.LOGIN_FORM:this.login.connectComponent("main")}};
PageCreator.prototype.createLogin=function(a){this.login=new LoginComponent({});this.login.connectComponent("main");void 0!=a&&this.login.redirectAfterLogin(a)};var PageElements;(function(a){a[a.LOGIN_FORM=0]="LOGIN_FORM";a[a.REGISTER_FORM=1]="REGISTER_FORM";a[a.DIV=2]="DIV";a[a.ROOMS_LIST=3]="ROOMS_LIST";a[a.DEVICES_LIST=4]="DEVICES_LIST"})(PageElements||(PageElements={}));var Singleton=function(){};Singleton.getInstance=function(){void 0==this.instance&&(this.instance=new this);return this.instance};
var PageManager=function(){Singleton.call(this);var a=this;this.activePageIndex=0;this.activePage=null;this.resizePages=function(){a.pageManagerComponent.style.width=Config.getWindowWidth(!0);a.pageManagerComponent.style.height=Config.getWindowHeight(!0);a.pages.forEach(function(b,c,d){b=b.style;b.width=Config.getWindowWidth(!0);b.height=Config.getWindowHeight(!0);c!=a.activePageIndex&&(b.left=Config.getWindowWidth(!0))})};this.pages=[];this.pageManagerComponent=new PageManagerComponent({});this.resizePages();
window.addEventListener("resize",this.resizePages)};$jscomp.inherits(PageManager,Singleton);PageManager.prototype.connect=function(){this.pageManagerComponent.connectComponent(document.body)};PageManager.prototype.addPage=function(a){-1!=this.pages.indexOf(a)?new PageAlreadyAddedToPageManagerError(a,!0):(this.pages.push(a),this.pageManagerComponent.appendChild(a),1==this.pages.length?(this.activePage=a,a.style.left="0px"):a.style.left=Config.getWindowWidth(!0))};
PageManager.prototype.setActive=function(a,b){b=void 0===b?Effects.NONE:b;if("number"==typeof a)if(a<this.pages.length)if(b==Effects.SWIPE_TO_LEFT){var c=this.activePage.style;c.transition="left "+Config.defaultTransitionTime+"ms";setTimeout(function(){c.transition=""},Config.defaultTransitionTime);c.left="-"+Config.getWindowWidth(!0);this.activePage=this.pages[a];this.activePageIndex=a;var d=this.activePage.style;d.left=Config.getWindowWidth(!0);setTimeout(function(){d.transition="left "+Config.defaultTransitionTime+
"ms";setTimeout(function(){d.transition=""},Config.defaultTransitionTime);d.left="0px"},0)}else this.activePage.style.left=Config.getWindowWidth(!0),this.activePage=this.pages[a],this.activePageIndex=a,this.activePage.style.left="0px";else new PageNotExistInPageManagerError(a,this.pages.length,!0);else-1==this.pages.indexOf(a)&&new PageNotExistInPageManagerError(a,this.pages.length,!0)};
var PageManagerComponent=function(a){a=AbstractComponent.call(this,a)||this;a.style.position="absolute";a.style.top="0";a.style.left="0";return a};$jscomp.inherits(PageManagerComponent,AbstractComponent);var Effects;(function(a){a[a.NONE=0]="NONE";a[a.SWIPE_TO_LEFT=1]="SWIPE_TO_LEFT";a[a.SWIPE_TO_RIGHT=2]="SWIPE_TO_RIGHT"})(Effects||(Effects={}));var Pages;
(function(a){a[a.UNKNOWN=0]="UNKNOWN";a[a.LOGIN=1]="LOGIN";a[a.REGISTER=2]="REGISTER";a[a.DASHBOARD=3]="DASHBOARD";a[a.DEVICES=4]="DEVICES";a[a.HOME=5]="HOME"})(Pages||(Pages={}));var AutoHomeRouter=function(){};
AutoHomeRouter.prototype.getRoute=function(){var a=window.location.pathname.split("/").slice(1).map(function(e){return e.toLocaleLowerCase()}),b=window.location.pathname.toLocaleLowerCase(),c=localStorage.getItem("logged");this.route={page:AutoHomeRouter.DEFAULT_LOGGED_PAGE,path:b};var d=a[0];if("user"==d)switch(a[1]){case "login":this.route.page=Pages.LOGIN;break;case "register":this.route.page=Pages.REGISTER;break;default:this.route.path=Paths.HOME,new BaseError("Page "+b+" not defined!",this)}else"home"==
d?this.route.page=Pages.HOME:"dashboard"==d&&(this.route.page=Pages.DASHBOARD);c||(this.route.afterLoginPage=this.route.page,this.route.page=Pages.LOGIN,this.route.afterLoginPath=this.route.path,this.route.path=Paths.LOGIN);return this.route};AutoHomeRouter.prototype.isLoginPath=function(){return"/user/login"==window.location.pathname.toLocaleLowerCase()};AutoHomeRouter.DEFAULT_LOGGED_PAGE=Pages.HOME;var Paths;
(function(a){a.LOGIN="user/login";a.REGISTER="user/register";a.DASHBOARD="dashboard";a.HOME="home"})(Paths||(Paths={}));var URLManager=function(){Singleton.apply(this,arguments)};$jscomp.inherits(URLManager,Singleton);URLManager.registerURLChangeListener=function(a){URLManager.getInstance().onURLChange=a;window.addEventListener("popstate",a)};URLManager.setURL=function(a,b,c){b=void 0===b?"":b;c=void 0===c?!1:c;var d=URLManager.getInstance();window.history.pushState("",b,a);if(!c)d.onURLChange()};